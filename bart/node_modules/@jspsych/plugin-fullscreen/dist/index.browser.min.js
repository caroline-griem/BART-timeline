var jsPsychFullscreen=function(n){"use strict";var i="2.1.0";const u={name:"fullscreen",version:i,parameters:{fullscreen_mode:{type:n.ParameterType.BOOL,default:!0,array:!1},message:{type:n.ParameterType.HTML_STRING,default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:n.ParameterType.STRING,default:"Continue",array:!1},delay_after:{type:n.ParameterType.INT,default:1e3,array:!1}},data:{success:{type:n.ParameterType.BOOL,default:null,description:"True if the user entered fullscreen mode, false if not."},rt:{type:n.ParameterType.INT,default:null,description:"Time in milliseconds until the user entered fullscreen mode."}},citations:{apa:"de Leeuw, J. R., Gilbert, R. A., & Luchterhandt, B. (2023). jsPsych: Enabling an Open-Source Collaborative Ecosystem of Behavioral Experiments. Journal of Open Source Software, 8(85), 5351. https://doi.org/10.21105/joss.05351 ",bibtex:'@article{Leeuw2023jsPsych, 	author = {de Leeuw, Joshua R. and Gilbert, Rebecca A. and Luchterhandt, Bj{\\" o}rn}, 	journal = {Journal of Open Source Software}, 	doi = {10.21105/joss.05351}, 	issn = {2475-9066}, 	number = {85}, 	year = {2023}, 	month = {may 11}, 	pages = {5351}, 	publisher = {Open Journals}, 	title = {jsPsych: Enabling an {Open}-{Source} {Collaborative} {Ecosystem} of {Behavioral} {Experiments}}, 	url = {https://joss.theoj.org/papers/10.21105/joss.05351}, 	volume = {8}, }  '}};class a{constructor(e){this.jsPsych=e,this.rt=null,this.start_time=0}trial(e,t){var s=typeof Element!="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element;s?this.endTrial(e,!1,t):t.fullscreen_mode?this.showDisplay(e,t):(this.exitFullScreen(),this.endTrial(e,!0,t))}showDisplay(e,t){e.innerHTML=`
      ${t.message}
      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${t.button_label}</button>
    `,e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",()=>{this.rt=Math.round(performance.now()-this.start_time),this.enterFullScreen(),this.endTrial(e,!0,t)}),this.start_time=performance.now()}endTrial(e,t,s){e.innerHTML="",this.jsPsych.pluginAPI.setTimeout(()=>{var l={success:t,rt:this.rt};this.jsPsych.finishTrial(l)},s.delay_after)}enterFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(e,t,s,l){t=="data-only"&&(l(),this.simulate_data_only(e,s)),t=="visual"&&this.simulate_visual(e,s,l)}create_simulation_data(e,t){const s={success:!0,rt:this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)};return this.jsPsych.pluginAPI.mergeSimulationData(s,t)}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const l=this.create_simulation_data(e,t),r=this.jsPsych.getDisplayElement();l.success===!1?this.endTrial(r,!1,e):(this.trial(r,e),s(),this.jsPsych.pluginAPI.clickTarget(r.querySelector("#jspsych-fullscreen-btn"),l.rt))}}return a.info=u,a}(jsPsychModule);
//# sourceMappingURL=https://unpkg.com/@jspsych/plugin-fullscreen@2.1.0/dist/index.browser.min.js.map
